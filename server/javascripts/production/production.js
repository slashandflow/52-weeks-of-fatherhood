$(function(){return $.widget("primate.week_toggle",{options:{js_enabled:"js_enabled",hidden_selectors:".text",speed:400},$container:null,$hiddenParts:null,$openLink:null,weekVisible:!1,weekNumber:1,_init:function(){var e,t,i,n;return n=this,i=this.options,this.$container=e=$(this.element),e.addClass(i.js_enabled),t=this.$hiddenParts=$(i.hidden_selectors,e),t.hide(),this.weekNumber=e.attr("data-week-number"),this._addOpenLink()},_destroy:function(){return this.$container.removeClass(this.options.js_enabled),this.$hiddenParts.show(),this.$openLink.remove()},_addOpenLink:function(){var e,t;return t=this,e=this.$openLink=$("<div class='read_more'><a href='#'>Read week "+this.weekNumber+"</a></div>"),$("a",e).click(function(e){return e.preventDefault(),t.weekVisible?t._hideWeek():t._showWeek()}),this.$container.append(e)},_showWeek:function(){var e;return e=this.options,this.$hiddenParts.slideToggle(e.speed),$("html, body").animate({scrollTop:this.$container.offset().top-20}),$("a",this.$openLink).html("Hide week "+this.weekNumber),this.weekVisible=!0},_hideWeek:function(){var e;return e=this.options,this.$hiddenParts.slideToggle(e.speed),$("a",this.$openLink).html("Show week "+this.weekNumber),this.weekVisible=!1}})}),jQuery;var BreakpointDetection,BreakpointDetectionSubject;BreakpointDetectionSubject=function(){function e(){}return e.prototype.CALLBACKS=[],e.prototype.PAGE_WIDTH=0,e.prototype.addPageWidth=function(e){return this.PAGE_WIDTH=e},e.prototype.getPageWidth=function(){return this.PAGE_WIDTH},e.prototype.addCallback=function(e){return this.CALLBACKS.push(e)},e.prototype.notify=function(e){var t,i,n,o,s;for(this.PAGE_WIDTH=e,o=this.CALLBACKS,s=[],i=0,n=o.length;n>i;i++)t=o[i],s.push(t(this.PAGE_WIDTH));return s},e}(),BreakpointDetection=new BreakpointDetectionSubject,$(document).ready(function(){var e,t,i;return e=$('<div id="breakpoint_element"></div>'),$("body").append(e),t=i=e.css("z-index"),BreakpointDetection.addPageWidth(t),$(window).resize(function(){return t=e.css("z-index"),i!==t?(i=t,BreakpointDetection.notify(t)):void 0})}),$(function(){var e,t;return e=52,t=BreakpointDetection.getPageWidth(),$("#header .latest a").click(function(e){var t;return e.preventDefault(),t=$($(this).attr("href")),$("html, body").animate({scrollTop:t.offset().top-20})}),function(){var i,n;return i="",t>=e?($("article.week").not(":last-of-type").week_toggle({hidden_selectors:".text, .statistics"}),i="desktop"):($("article.week").not(":last-of-type").week_toggle({hidden_selectors:".steve, .gordon, .statistics",speed:800}),n=!0,i="mobile"),BreakpointDetection.addCallback(function(t){return t>=e&&"desktop"!==i&&($("article.week").not(":last-of-type").week_toggle("destroy"),$("article.week").not(":last-of-type").week_toggle({hidden_selectors:".text, .statistics"}),i="desktop"),e>t&&"mobile"!==i?($("article.week").not(":last-of-type").week_toggle("destroy"),$("article.week").not(":last-of-type").week_toggle({hidden_selectors:".steve, .gordon, .statistics",speed:800}),i="mobile"):void 0})}()});